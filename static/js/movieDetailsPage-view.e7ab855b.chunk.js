"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[466],{530:function(t,e,n){n.d(e,{Gy:function(){return p},Lo:function(){return u},hh:function(){return f},iR:function(){return d},uN:function(){return h}});var r=n(861),i=n(757),a=n.n(i),c="https://api.themoviedb.org/3",s="2df0d61e4e977c645a20818274a83726";function o(){return l.apply(this,arguments)}function l(){return l=(0,r.Z)(a().mark((function t(){var e,n,r,i=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:"",n=i.length>1&&void 0!==i[1]?i[1]:{},t.next=4,fetch(e,n);case 4:if(!(r=t.sent).ok){t.next=11;break}return t.next=8,r.json();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=Promise.reject(new Error("Not found"));case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(){return o("".concat(c,"/trending/movie/day?api_key=").concat(s))}function h(t){return o("".concat(c,"/movie/").concat(t,"?api_key=").concat(s))}function d(t){return o("".concat(c,"/movie/").concat(t,"/credits?api_key=").concat(s))}function f(t){return o("".concat(c,"/movie/").concat(t,"/reviews?api_key=").concat(s))}function p(t){return o("".concat(c,"/search/movie?api_key=").concat(s,"&query=").concat(t))}},136:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(885),i=n(791),a=n(271),c=n(530),s=n(523),o=n(184);function l(){var t,e,n,l,u=(0,a.UO)().filmId,h=(0,i.useState)(null),d=(0,r.Z)(h,2),f=d[0],p=d[1],m=(0,i.useState)(null),x=(0,r.Z)(m,2),v=x[0],j=x[1],_=(0,i.useState)(null),g=(0,r.Z)(_,2),w=g[0],k=g[1],y=(0,a.$B)().url,b=(0,a.k6)(),F=(0,a.TH)();(0,i.useEffect)((function(){c.uN(u).then(p),c.iR(u).then(j),c.hh(u).then(k)}),[u]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{type:"button",onClick:function(){var t,e;b.push(null!==(t=null===F||void 0===F||null===(e=F.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/")},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,o.jsxs)(o.Fragment,{children:[f&&(0,o.jsxs)("div",{style:{display:"flex"},children:[f.poster_path&&(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(f.poster_path),width:300,height:400,style:{margin:"5px 20px 0 0"},alt:"fotoFilm"}),(0,o.jsxs)("div",{children:[f.title&&(0,o.jsxs)("h2",{children:[f.title,"(",f.release_date&&f.release_date.substr(0,4),f.first_air_date&&f.first_air_date.substr(0,4),")"]}),f.name&&(0,o.jsxs)("h2",{children:[f.name,"(",f.release_date&&f.release_date.substr(0,4),f.first_air_date&&f.first_air_date.substr(0,4),")"]}),(0,o.jsx)("h3",{children:"Overview"}),(0,o.jsx)("p",{children:f.overview}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{children:"Genres"}),f.genres.map((function(t){return"".concat(t.name,"  ")}))]})]})]}),(0,o.jsx)("hr",{}),f?(0,o.jsxs)(o.Fragment,{children:["Addtional Information ",(0,o.jsx)("br",{}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(s.OL,{to:{pathname:"".concat(y,"/cast"),state:{from:null!==(t=null===F||void 0===F||null===(e=F.state)||void 0===e?void 0:e.from)&&void 0!==t?t:"/"}},children:"Cast"})},"1"),(0,o.jsx)("li",{children:(0,o.jsx)(s.OL,{to:{pathname:"".concat(y,"/reviews"),state:{from:null!==(n=null===F||void 0===F||null===(l=F.state)||void 0===l?void 0:l.from)&&void 0!==n?n:"/"}},children:"Reviews"})},"2")]})]}):(0,o.jsx)("p",{children:"We don't have addtional information"}),(0,o.jsx)("hr",{}),(0,o.jsx)(a.AW,{path:"".concat(y,"/cast"),exact:!0,children:v?v.cast.map((function(t){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.profile_path),width:90,height:120,style:{margin:"0 20px 0 0"},alt:"fotoAutor"}),(0,o.jsx)("p",{children:t.name}),(0,o.jsxs)("p",{children:["Character: ",t.character]})]})})):(0,o.jsx)("p",{children:"We don't have any casts for this movie"})}),(0,o.jsx)(a.AW,{path:"".concat(y,"/reviews"),exact:!0,children:(0,o.jsx)(o.Fragment,{children:w&&w.results.length>0?(0,o.jsx)("ul",{children:w.results.map((function(t,e){return(0,o.jsxs)("li",{children:[(0,o.jsxs)("h2",{children:["Author: ",t.author]}),(0,o.jsx)("p",{children:t.content})]},e)}))}):(0,o.jsx)("p",{children:"We don't have any reviews for this movie"})})})]})]})}}}]);
//# sourceMappingURL=movieDetailsPage-view.e7ab855b.chunk.js.map